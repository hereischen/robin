{% extends 'base.html' %}

{% load staticfiles %}

{% block title %}Robin{% endblock %}


{% block body_block %}
    <div class="jumbotron">
        <h3>Theme example</h3>
        <p>This is a template showcasing the optional theme stylesheet included in Bootstrap. Use it as a starting point to create something more unique by building on or modifying it.</p>

        <div>Hello ${ teamData.count }!</div>
    </div>

    <div class="page-header">
          <h1>Repositories</h1>
    </div>
    <h2>repos</h2>
    <div class="row">
        <div class="col-md-12">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Repo Owner</th>
                        <th>Repo Name</th>
                        <th>Pendings</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="repo in repoData.repos">
                        <td class="left"><input type="checkbox" v-model="repo.checked" @click="chooseRepo(repo)"> ${repo.id}</td>
                        <td>${repo.owner}</td>
                        <td>${repo.repo}</td>
                        <td><button id="p-btn${repo.id}" type="button" class="btn btn-xs btn-primary" @click="showPending(repo)">Show</button></td>
                    </tr>
                </tbody>
            </table>
        </div>

     <!--    <div class="col-md-6">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Repo Owner</th>
                        <th>Repo Name</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="team in teamData.teams">
                        <td class="left"><input type="checkbox" v-model="team.checked" @click="chooseTeam(team)"> ${teamData.teams.indexOf(team) + 1}</td>
                        <td>${team.team_name}</td>
                        <td>${team.team_code}</td>
                    </tr>
                </tbody>
            </table>
        </div> -->
    </div> 
    <!-- class="row" -->

        <div id="pending-patchs" style="display:none;" >
            <div v-if="pendingData.count>0" transition="expand" v-cloak>
                <!-- <div class="alert alert-warning" role="alert"> -->
                    <div class="col-md-12">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>Patch No.</th>
                                    <th>Tittle</th>
                                    <th>Author</th>
                                    <th>Last Updated</th>
                                    <th>Total Pending</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="pendingPatch in pendingData.pendingPatchs">
                                    <td>${pendingPatch.patch_number}</td>
                                    <td>${pendingPatch.patch_title}</td>
                                    <td>${pendingPatch.author}</td>
                                    <td>${pendingPatch.last_updated} day(s)</td>
                                    <td>${pendingPatch.total_pending} day(s)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                <!-- </div> -->
            </div>

            <div v-else>
                <div class="alert alert-success" role="alert">
                There is no pending patchs in this repository.
                </div>
            </div>
        </div>
  
 



    <!-- ==================================================nav tab -->
    <h2>Teams</h2>
    <ul class="nav nav-tabs" >
        <li class="active"><a data-toggle="tab" href="#home">Home</a></li>
        <li v-for="team in teamData.teams"><a data-toggle="tab" href="#${team.team_name}">${team.team_name}</a></li>
    </ul>

    <div class="tab-content">
        <div id="home" class="tab-pane fade in active">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Team Name</th>
                        <!-- <th>Team Code</th> -->
                        <th>Number of Members</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="team in teamData.teams">
                        <td class="left"><input type="checkbox" v-model="team.checked" @click="chooseTeam(team)"> ${teamData.teams.indexOf(team) + 1}</td>
                        <td>${team.team_name}</td>
                        <!-- <td>${team.team_code}</td> -->
                        <td>${team.members.length}</td>
                    <!--   <td>
                          <button type="button" class="btn btn-primary" @click="settle(product)">查询</button>
                      </td> -->
                    </tr>
                </tbody>
            </table>
        </div>
        <div v-for="team in teamData.teams" id="${team.team_name}" class="tab-pane fade">
            <h3>Menu 1</h3>
            <p>Some content in menu 1.</p>
        </div>
<!--         <div id="${team.team_name}" class="tab-pane fade">
            <h3>Menu 2</h3>
            <p>Some content in menu 2.</p>
        </div> -->
    </div>
    <!-- ==================================================nav tab -->
    <button v-on:click="say('hi')">Say hi</button>




<!--   <h2>Teams</h2>
  <div class="panel-group" v-for="team in teamData.teams">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a data-toggle="collapse" href="#collapse1"> ${team.team_name}</a>
        </h4>
      </div>
      <div id="collapse1" class="panel-collapse collapse">
        <ul class="list-group">
          <li class="list-group-item">One</li>
          <li class="list-group-item">Two</li>
          <li class="list-group-item">Three</li>
        </ul>
        <div class="panel-footer">Footer</div>
      </div>
    </div>
  </div> -->
  <!-- ============================= -->
        <button v-on:click="show()">show</button>
      <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">统计计算</h4>
                </div>
                <div class="modal-body">
                         <table class="table">
                            <tr v-if="!settleAllState">
                                <td>商品名称:</td>
                                <td style="text-align: left"><span v-for="item in settleProduct" style="margin-right: 5px;">${item.product_name}</span><span v-if="settleProduct.length>3" style="margin-right: 5px;">等</span></td>
                                <td>商品编号:</td>
                                <td style="text-align: left"><span v-for="item in settleProduct" style="margin-right: 5px;">${item.unique_id}</span><span v-if="settleProduct.length>3" style="margin-right: 5px;">等</span></td>
                            </tr>
                             <tr v-else>
                                <p>所有商品</p>
                            </tr>
                            <tr>
                                <td>Start From:</td>
                                <td style="text-align: left">
                                    <input class="input" id="start_date" v-model="beginTime">
                                </td>
                                <td>End Until:</td>
                                <td style="text-align: left">
                                    <input class="input" id="end_date" v-model="endTime">
                                </td>
                            </tr>
                        </table>
                    </div>
<!--                 <div class="alert alert-${alertType}" role="alert" v-show="msg.length >0" v-cloak>
                    <p>${msg}</p>
                </div> -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger" @click="submit">Submit</button>
                </div>
<!--                 <div class="progress" v-if="progressWidth != '0%'">
                    <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" :style="{width: progressWidth}">
                        <span class="sr-only">40% Complete (success)</span>
                    </div>
                </div> -->
            </div>
        </div>
    </div>
  <!-- ============================= -->



    


{% endblock %}

{% block script %}
    <script src="{% static 'js/lodash.min.js' %}"></script>
    <script src="{% static 'js/index.js' %}"></script>
{% endblock %}